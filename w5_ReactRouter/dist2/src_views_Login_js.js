"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkw5_react"] = self["webpackChunkw5_react"] || []).push([["src_views_Login_js"],{

/***/ "./src/utils/request.js":
/*!******************************!*\
  !*** ./src/utils/request.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"baseUrl\": () => (/* binding */ baseUrl),\n/* harmony export */   \"apiUrl\": () => (/* binding */ apiUrl),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n\nconst baseUrl = 'http://120.76.247.5:2002';\nconst apiUrl = baseUrl + '/api';\nconst instance = axios__WEBPACK_IMPORTED_MODULE_0___default().create({\n  // 默认配置\n  baseURL: apiUrl,\n  withCredentials: true,\n  headers: {\n    Authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6Imxhb3hpZSIsImlhdCI6MTYzMTUwNTY1NiwiZXhwIjoxNjMxNTEyODU2fQ.MTj5iq0Ge8dTnITaQs2k0kGqMK0O2Nk_T40ooP_MYMI'\n  }\n}); // export default instance;\n\nasync function request(config) {\n  const {\n    data\n  } = await instance(config);\n  return data;\n}\n\nrequest.get = async function (url, data, config = {}) {\n  const {\n    data: res\n  } = await instance.get(url, { ...config,\n    params: data\n  });\n  return res;\n};\n\nrequest.post = async function (url, data, config) {\n  const {\n    data: res\n  } = await instance.post(url, data, config);\n  return res;\n};\n\nrequest.delete = async function (url, data, config = {}) {\n  const {\n    data: res\n  } = await instance.delete(url, { ...config,\n    params: data\n  });\n  return res;\n};\n\nrequest.put = async function (url, data, config) {\n  const {\n    data: res\n  } = await instance.put(url, data, config);\n  return res;\n};\n\nrequest.patch = async function (url, data, config) {\n  const {\n    data: res\n  } = await instance.patch(url, data, config);\n  return res;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (request);\n\n//# sourceURL=webpack://w5_react/./src/utils/request.js?");

/***/ }),

/***/ "./src/views/Login.js":
/*!****************************!*\
  !*** ./src/views/Login.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd */ \"./node_modules/antd/es/message/index.js\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd */ \"./node_modules/antd/es/form/index.js\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd */ \"./node_modules/antd/es/input/index.js\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd */ \"./node_modules/antd/es/checkbox/index.js\");\n/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd */ \"./node_modules/antd/es/button/index.js\");\n/* harmony import */ var _utils_hoc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/hoc */ \"./src/utils/hoc.js\");\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/request */ \"./src/utils/request.js\");\nvar _dec, _class;\n\n\n\n\n\nlet Login = (_dec = (0,_utils_hoc__WEBPACK_IMPORTED_MODULE_1__.withStorage)('userInfo'), _dec(_class = class Login extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  state = {\n    initialValues: {\n      username: '',\n      Password: '',\n      remember: true\n    }\n  };\n  submit = async values => {\n    console.log('values', values);\n    const data = await _utils_request__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post('/login', values);\n\n    if (data.code === 200) {\n      // 把用户信息存入本地\n      localStorage.setItem('userInfo', JSON.stringify(data.data));\n      this.props.history.push('/manage/home');\n    } else {\n      antd__WEBPACK_IMPORTED_MODULE_3__[\"default\"].error('用户名或密码不正确');\n    }\n  };\n\n  componentDidMount() {\n    // 如果用户已登录，用户在进入登录页面时自动跳到后台首页\n    if (this.props.userInfo) {\n      this.props.history.replace('/manage/home');\n    }\n  }\n\n  render() {\n    console.log('Login.render');\n    const {\n      initialValues\n    } = this.state;\n    const rules = {\n      username: [{\n        required: true,\n        message: '请填写用户名'\n      }],\n      password: [{\n        required: true,\n        message: '请填写密码'\n      }]\n    };\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"login-page\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"h1\", null, \"\\u73ED\\u7EA7\\u7BA1\\u7406\\u7CFB\\u7EDF\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      name: \"basic\",\n      labelCol: {\n        span: 6\n      },\n      wrapperCol: {\n        span: 18\n      },\n      initialValues: initialValues,\n      onFinish: this.submit,\n      autoComplete: \"off\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Item, {\n      label: \"\\u7528\\u6237\\u540D\",\n      name: \"username\",\n      rules: rules.username\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Item, {\n      label: \"\\u5BC6\\u7801\",\n      name: \"password\",\n      rules: rules.password\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_5__[\"default\"].Password, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Item, {\n      name: \"remember\",\n      valuePropName: \"checked\",\n      wrapperCol: {\n        offset: 6,\n        span: 18\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null, \"\\u4E0B\\u6B21\\u514D\\u767B\\u5F55\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Item, {\n      wrapperCol: {\n        offset: 6,\n        span: 18\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(antd__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n      type: \"primary\",\n      htmlType: \"submit\"\n    }, \"\\u767B\\u5F55\"))));\n  }\n\n}) || _class); // Login = withAuth(Login)\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Login);\n\n//# sourceURL=webpack://w5_react/./src/views/Login.js?");

/***/ })

}]);